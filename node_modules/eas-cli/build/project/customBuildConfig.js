"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getCustomBuildConfigPath = exports.validateCustomBuildConfigAsync = void 0;
const tslib_1 = require("tslib");
const chalk_1 = tslib_1.__importDefault(require("chalk"));
const fs_extra_1 = tslib_1.__importDefault(require("fs-extra"));
const path_1 = tslib_1.__importDefault(require("path"));
async function validateCustomBuildConfigAsync(projectDir, profile) {
    if (!profile.config) {
        return;
    }
    const relativeBuildConfigPath = getCustomBuildConfigPath(profile.config);
    const buildConfigPath = path_1.default.join(projectDir, relativeBuildConfigPath);
    if (!(await fs_extra_1.default.pathExists(buildConfigPath))) {
        throw new Error(`Custom build configuration file ${chalk_1.default.bold(relativeBuildConfigPath)} does not exist.`);
    }
}
exports.validateCustomBuildConfigAsync = validateCustomBuildConfigAsync;
function getCustomBuildConfigPath(configFilename) {
    return path_1.default.join('.eas/build', configFilename);
}
exports.getCustomBuildConfigPath = getCustomBuildConfigPath;
